(this["webpackJsonpminesweeper-typescript-react"]=this["webpackJsonpminesweeper-typescript-react"]||[]).push([[0],[,,,,,function(e,t,a){e.exports=a(14)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,l,o,r=a(0),u=a.n(r),i=a(4),c=a.n(i),s=(a(10),a(2)),b=a(1),v=(a(11),a(12),function(e){var t=e.value;return u.a.createElement("div",{className:"number-display"},t<0?"-".concat(Math.abs(t).toString().padStart(2,"0")):t.toString().padStart(3,"0"))});!function(e){e[e.none=0]="none",e[e.one=1]="one",e[e.two=2]="two",e[e.three=3]="three",e[e.four=4]="four",e[e.five=5]="five",e[e.six=6]="six",e[e.seven=7]="seven",e[e.eight=8]="eight",e[e.bomb=9]="bomb"}(n||(n={})),function(e){e[e.open=0]="open",e[e.visible=1]="visible",e[e.flagged=2]="flagged"}(l||(l={})),function(e){e.smile="\ud83d\ude01",e.surprise="\ud83d\ude32",e.win="\ud83d\ude0e",e.lose="\ud83d\ude2d"}(o||(o={}));var m=function(e,t,a,n,l){return{topLeftCell:t>0&&a>0?e[t-1][a-1]:null,topCell:t>0?e[t-1][a]:null,topRightCell:t>0&&a<l-1?e[t-1][a+1]:null,leftCell:a>0?e[t][a-1]:null,rightCell:a<l-1?e[t][a+1]:null,bottomLeftCell:t<n-1&&a>0?e[t+1][a-1]:null,bottomCell:t<n-1?e[t+1][a]:null,bottomRightCell:t<n-1&&a<l-1?e[t+1][a+1]:null}},f=function(e,t,a){for(var o=[],r=0;r<e;r++){o.push([]);for(var u=0;u<t;u++)o[r].push({value:n.none,state:l.open})}for(var i=0;i<a;){var c=Math.floor(Math.random()*e),b=Math.floor(Math.random()*t);o[c][b].value!==n.bomb&&(o[c][b]=Object(s.a)(Object(s.a)({},o[c][b]),{},{value:n.bomb}),i++)}for(var v=0;v<e;v++)for(var f=function(a){var l=o[v][a];if(l.value===n.bomb)return"continue";var r=0,u=m(o,v,a,e,t);[u.topLeftCell,u.topCell,u.topRightCell,u.leftCell,u.rightCell,u.bottomLeftCell,u.bottomCell,u.bottomRightCell].map((function(e){if((null===e||void 0===e?void 0:e.value)===n.bomb)return r++})),r>0&&(o[v][a]=Object(s.a)(Object(s.a)({},l),{},{value:r}))},p=0;p<t;p++)f(p);return o},p=(a(13),function(e){var t=e.row,a=e.col,o=e.state,r=e.value,i=e.onClick,c=e.onContext,s=e.red;return u.a.createElement("div",{className:"button ".concat(o===l.visible?"visible":""," value-").concat(r," ").concat(s?"red":""),onClick:i(t,a),onContextMenu:c(t,a)},o===l.visible?r===n.bomb?u.a.createElement("span",{role:"img","aria-label":"bomb"},"\ud83d\udca3"):r===n.none?null:r:o===l.flagged?u.a.createElement("span",{role:"img","aria-label":"flag"},"\ud83d\udea9"):null)}),d=function(){var e=Object(r.useState)(10),t=Object(b.a)(e,2),a=t[0],i=t[1],c=Object(r.useState)(10),d=Object(b.a)(c,2),g=d[0],j=d[1],O=Object(r.useState)(10),C=Object(b.a)(O,2),E=C[0],h=C[1],w=Object(r.useState)(a),S=Object(b.a)(w,2),y=S[0],x=S[1],L=Object(r.useState)(g),N=Object(b.a)(L,2),k=N[0],R=N[1],M=Object(r.useState)(E),I=Object(b.a)(M,2),q=I[0],B=I[1],D=Object(r.useState)(f(y,k,q)),J=Object(b.a)(D,2),T=J[0],A=J[1],F=Object(r.useState)(o.smile),H=Object(b.a)(F,2),z=H[0],G=H[1],K=Object(r.useState)(0),P=Object(b.a)(K,2),Q=P[0],U=P[1],V=Object(r.useState)(!1),W=Object(b.a)(V,2),X=W[0],Y=W[1],Z=Object(r.useState)(q),$=Object(b.a)(Z,2),_=$[0],ee=$[1],te=Object(r.useState)(!1),ae=Object(b.a)(te,2),ne=ae[0],le=ae[1],oe=Object(r.useState)(!1),re=Object(b.a)(oe,2),ue=re[0],ie=re[1];Object(r.useEffect)((function(){A(f(y,k,q)),ee(q)}),[y,k,q]);var ce={display:"grid",gridTemplateRows:"repeat(".concat(y,", 1fr)"),gridTemplateColumns:"repeat(".concat(k,", 1fr)")};Object(r.useEffect)((function(){var e=function(){G(o.surprise)},t=function(){G(o.smile)};return window.addEventListener("mousedown",e),window.addEventListener("mouseup",t),function(){window.removeEventListener("mousedown",e),window.removeEventListener("mouseup",t)}}),[]),Object(r.useEffect)((function(){if(X&&Q<999){var e=setInterval((function(){U(Q+1)}),1e3);return function(){clearInterval(e)}}}),[X,Q]),Object(r.useEffect)((function(){ne&&(G(o.lose),Y(!1))}),[ne]),Object(r.useEffect)((function(){ue&&(Y(!1),G(o.win))}),[ue]);var se=function(e,t){return function(){if(!ue&&!ne){X||Y(!0);var a=T[e][t],o=T.slice();if(a.state!==l.flagged&&a.state!==l.visible){if(a.value===n.bomb)return le(!0),o[e][t].red=!0,o=me(),void A(o);a.value===n.none?(o=function e(t,a,o,r,u){var i=t[a][o];if(i.state===l.visible||i.state===l.flagged)return t;var c=t.slice();c[a][o].state=l.visible;var s=m(t,a,o,r,u),b=s.topLeftCell,v=s.topCell,f=s.topRightCell,p=s.leftCell,d=s.rightCell,g=s.bottomLeftCell,j=s.bottomCell,O=s.bottomRightCell;return(null===b||void 0===b?void 0:b.state)===l.open&&b.value!==n.bomb&&(b.value===n.none?c=e(c,a-1,o-1,r,u):c[a-1][o-1].state=l.visible),(null===v||void 0===v?void 0:v.state)===l.open&&v.value!==n.bomb&&(v.value===n.none?c=e(c,a-1,o,r,u):c[a-1][o].state=l.visible),(null===f||void 0===f?void 0:f.state)===l.open&&f.value!==n.bomb&&(f.value===n.none?c=e(c,a-1,o+1,r,u):c[a-1][o+1].state=l.visible),(null===p||void 0===p?void 0:p.state)===l.open&&p.value!==n.bomb&&(p.value===n.none?c=e(c,a,o-1,r,u):c[a][o-1].state=l.visible),(null===d||void 0===d?void 0:d.state)===l.open&&d.value!==n.bomb&&(d.value===n.none?c=e(c,a,o+1,r,u):c[a][o+1].state=l.visible),(null===g||void 0===g?void 0:g.state)===l.open&&g.value!==n.bomb&&(g.value===n.none?c=e(c,a+1,o-1,r,u):c[a+1][o-1].state=l.visible),(null===j||void 0===j?void 0:j.state)===l.open&&j.value!==n.bomb&&(j.value===n.none?c=e(c,a+1,o,r,u):c[a+1][o].state=l.visible),(null===O||void 0===O?void 0:O.state)===l.open&&O.value!==n.bomb&&(O.value===n.none?c=e(c,a+1,o+1,r,u):c[a+1][o+1].state=l.visible),c}(o,e,t,y,k),A(o)):o[e][t].state=l.visible;for(var r=!1,u=0;u<y;u++)for(var i=0;i<k;i++){var c=o[u][i];if(c.value!==n.bomb&&c.state===l.open){r=!0;break}}r||(o=o.map((function(e){return e.map((function(e){return e.value===n.bomb?Object(s.a)(Object(s.a)({},e),{},{state:l.flagged}):e}))})),ie(!0)),A(o)}}}},be=function(e,t){return function(a){if(a.preventDefault(),X){var n=T.slice(),o=T[e][t];o.state!==l.visible&&(o.state===l.open?(n[e][t].state=l.flagged,A(n),ee(_-1)):o.state===l.flagged&&(n[e][t].state=l.open,A(n),ee(_+1)))}}},ve=function(){Y(!1),U(0),A(f(y,k,q)),le(!1),ie(!1),ee(q)},me=function(){return T.slice().map((function(e){return e.map((function(e){return e.value===n.bomb?Object(s.a)(Object(s.a)({},e),{},{state:l.visible}):e}))}))};return u.a.createElement(u.a.Fragment,null,u.a.createElement("form",{onSubmit:function(e){e.preventDefault(),x(a),R(g),B(E),ve()},className:"form"},u.a.createElement("h2",null,"Set difficulty"),u.a.createElement("div",null,u.a.createElement("label",null,"Rows (max 15) "),u.a.createElement("input",{type:"number",value:a,max:15,min:5,required:!0,onChange:function(e){return i(parseInt(e.target.value))},placeholder:"Number of rows"})),u.a.createElement("div",null,u.a.createElement("label",null,"Columns (max 35) "),u.a.createElement("input",{type:"number",value:g,max:35,min:10,required:!0,onChange:function(e){return j(parseInt(e.target.value))},placeholder:"Number of columns"})),u.a.createElement("div",null,u.a.createElement("label",null,"Bombs (max of (rows * columns) - 1) "),u.a.createElement("input",{type:"number",value:E,min:1,max:a*g-1,required:!0,onChange:function(e){return h(parseInt(e.target.value))},placeholder:"Number of bombs"})),u.a.createElement("button",{type:"submit"},"Confirm")),u.a.createElement("div",{className:"App"},u.a.createElement("div",{className:"Header"},u.a.createElement(v,{value:_}),u.a.createElement("div",{className:"face",onClick:ve},u.a.createElement("span",{role:"img","aria-label":"face"},z)),u.a.createElement(v,{value:Q})),u.a.createElement("div",{className:"Body",style:ce},T.map((function(e,t){return e.map((function(e,a){return u.a.createElement(p,{key:t+"-"+a,state:e.state,value:e.value,row:t,col:a,red:e.red,onClick:se,onContext:be})}))})))))};c.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(d,null)),document.getElementById("root"))}],[[5,1,2]]]);
//# sourceMappingURL=main.a558d820.chunk.js.map